# Global Cursor Rules for Data Analytics V5

This workspace contains a full-stack analytics application with separate frontend and backend codebases.

## Project Structure

- **Frontend**: Next.js 16 + React 19 + TypeScript in `frontend/`
- **Backend**: FastAPI + Python in `backend/`
- **Database**: PostgreSQL 16 (Prisma schema in `prisma/`)
- **Scripts**: Data processing scripts in `scripts/`

## Multi-Agent Workflow

This project uses 4 specialized agents working in parallel. Each agent must:

1. **Identify itself**: Read agent ID from `.agent-[N].id` file (where N is 1-4)
2. **Load configuration**: Read `.agent-config.json` to understand role, boundaries, and coordination methods
3. **Follow role-specific rules**: Reference the appropriate `.cursorrules-[role].md` file
4. **Stay within boundaries**: Only modify files in `allowed_directories`, never touch `forbidden_directories`
5. **Coordinate via TODOs**: Check for `TODO: [Agent N]` comments before starting work

## Agent Configuration

All agents are defined in `.agent-config.json`. Each agent has:
- Unique `agent_id` (1-4)
- Specific `role` and `rules_file`
- `allowed_directories` and `forbidden_directories`
- `coordination_method` (code_comments_todos)

## Agent Specialization

### Agent 1: Frontend UI/UX Design Expert
- Rules: `.cursorrules-frontend-uiux.md`
- Focus: All frontend development including UI components, UX design, data visualization, client-side logic, design system, and visual design
- Directory: `frontend/` (full access)
- Never modify: `backend/`, `scripts/`, `prisma/`, `sql/`
- Can coordinate with: Agent 2 (Backend)

### Agent 2: Backend Specialist
- Rules: `.cursorrules-backend.md`
- Focus: API endpoints, database queries, business logic
- Directory: `backend/`
- Never modify: `frontend/`, `scripts/`, `prisma/`, `sql/`
- Can coordinate with: Agent 1 (Frontend), Agent 3 (Database/Scripts), Agent 4 (Full-Stack)

### Agent 3: Database/Scripts Specialist
- Rules: `.cursorrules-database.md`
- Focus: Database schema, migrations, SQL queries, data processing scripts
- Directories: `prisma/`, `sql/`, `scripts/`
- Never modify: `frontend/`, `backend/`
- Can coordinate with: Agent 2 (Backend), Agent 4 (Full-Stack)

### Agent 4: Full-Stack Engineer
- Rules: `.cursorrules-fullstack.md`
- Focus: End-to-end feature implementation, integration testing, system architecture understanding, performance optimization across the stack, and deployment considerations
- Directories: ALL (`frontend/`, `backend/`, `scripts/`, `prisma/`, `sql/`)
- Never modify: None (full access)
- Can coordinate with: All agents (1, 2, 3, 4)

## Coordination via Code Comments/TODOs

Agents coordinate through code comments using the format: `TODO: [Agent N] description`

**Before starting work:**
- Search codebase for `TODO: [Agent N]` comments addressed to you
- Check if other agents are working on related files
- Review coordination documentation in `docs/agent-coordination.md`

**When coordination is needed:**
- Leave TODO comments: `// TODO: [Agent 2] Add /api/customers endpoint for frontend`
- Use clear, actionable descriptions
- Address specific agents by number

**After completing work:**
- Mark TODOs as resolved or create follow-up TODOs
- Document API changes in commit messages
- Update API documentation when endpoints change

## General Rules

- Follow existing code patterns
- Maintain type safety (TypeScript strict, Python type hints)
- Handle errors gracefully
- Write testable code
- Document complex logic

